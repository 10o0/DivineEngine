[General]
bypass-system = true
skip-proxy = 192.168.0.0/16, 193.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, 127.0.0.1, 17.0.0.0/8, localhost, *.local
bypass-tun = 10.0.0.0/8,100.64.0.0/10,127.0.0.0/8,169.254.0.0/16,172.16.0.0/12,192.0.0.0/24,192.0.2.0/24,192.88.99.0/24,192.168.0.0/16,198.18.0.0/15,198.51.100.0/24,203.0.113.0/24,224.0.0.0/4,255.255.255.255/32
dns-server = 119.29.29.29,223.5.5.5,system

[Rule]
DOMAIN-SUFFIX,tiktokv.com,PROXY
DOMAIN-SUFFIX,musical.ly,PROXY
DOMAIN-SUFFIX,muscdn.com,PROXY

# Local Area Network
DOMAIN-SUFFIX,local,DIRECT
IP-CIDR,192.168.0.0/16,DIRECT
IP-CIDR,10.0.0.0/8,DIRECT
IP-CIDR,172.16.0.0/12,DIRECT
IP-CIDR,127.0.0.0/8,DIRECT
IP-CIDR,100.64.0.0/10,DIRECT

# GeoIP China
GEOIP,CN,DIRECT

FINAL,PROXY

[Host]
*.taobao.com = server:223.5.5.5
*.tmall.com = server:223.5.5.5

[URL Rewrite]
# TikTok
(carrier|account|sys)_region=CN $1_region=JP 302
(.*video_id=\w{32})(.*watermark=)(.*) $1 302

[MITM]
hostname = *.tiktokv.com,*.musical.ly

enable = true
ca-passphrase = Shadowrocket
ca-p12 = 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